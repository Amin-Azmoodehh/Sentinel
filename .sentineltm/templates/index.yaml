# Project Index Template
# Auto-updated by agent_plan tool at think_depth >= 5

modules:
  - path: src/services/thinkDepthService.ts
    role: Core think_depth processing logic
    dependencies: []
    exports: [processThinkDepth]
  
  - path: src/types/thinkDepth.ts
    role: Type definitions and risk calculation
    dependencies: []
    exports: [ThinkDepthRequest, ThinkDepthResponse, calculateRiskLevel]
  
  - path: src/mcp/toolHandlers/thinkDepthHandler.ts
    role: MCP handler for agent_plan tool
    dependencies: [thinkDepthService, validation]
    exports: [handleAgentPlanTool]

interfaces:
  ThinkDepthRequest:
    input:
      task: string
      context?: string
      think_depth: number (0-10)
    output: ThinkDepthResponse
  
  ThinkDepthResponse:
    plan?: string
    design_decisions?: string[]
    artifacts?: Array<{path, content}>
    tests?: Array<{name, steps}>
    index_updates?: Array<{file, summary}>
    next_tasks?: string[]

constraints:
  code_style: TypeScript strict mode
  architecture: Service-oriented, MCP-first
  max_lines_per_file: 300
  forbidden_patterns: [eval, console.log in production]
  
tests:
  coverage: 0%
  status: pending
  required:
    - unit: thinkDepthService.processThinkDepth
    - integration: MCP agent_plan tool
